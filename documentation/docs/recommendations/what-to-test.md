# Что тестировать

:::warning
Это мой субъективный опыт, возможно он расходится с вашим. В этом случае вы можете или доработать данную статью или разместить свою рядом.
:::

## Основной принцип

Ответ простой: тестируем то, что дорабатываем. Начинайте с интеграционных (компонентных) тестов вашей задачи, которые проверяют основные кейсы по задаче.

## Подход к тестированию

В процессе написания тестов не требуется учитывать все возможные сценарии поведения программы. Рекомендуется сосредоточиться на ключевых задачах, а остальные вносить (дополнять) по мере необходимости.

### Идеальный процесс тестирования

1. **Анализ требований:**
   * Выделение тест-кейсов из технического задания
   * Определение критических сценариев
   * Выявление граничных условий

2. **Написание тестов:**
   * Создание компонентных тестов
   * Проверка основных сценариев
   * Тестирование граничных случаев

3. **Реализация функциональности:**
   * Разработка согласно требованиям
   * Добавление новых тест-кейсов при необходимости
   * Рефакторинг с учетом тестов

4. **Проверка и доработка:**
   * Достижение успешного прохождения тестов
   * Ручное тестирование
   * Документирование результатов

## Компонентные тесты vs Unit-тесты

### Почему компонентные тесты?

Заголовок выше противоречит основной мысли из многих современных книг и учебников. Компонентные тесты гораздо дольше выполняются и при этом не показывают четкое место поломки кода. Несмотря на это, мы говорим о них как об "оплоте стабильности". 

### Преимущества компонентных тестов

1. **Быстрее в разработке:**
   * Меньше времени на создание
   * Меньше моков и стабов
   * Более понятные сценарии

2. **Ближе к реальности:**
   * Проверяют реальные сценарии использования
   * Тестируют взаимодействие компонентов
   * Отражают бизнес-логику

3. **Экономически эффективны:**
   * Меньше затрат на поддержку
   * Быстрее окупаются
   * Проще в понимании

### Недостатки unit-тестов

1. **Высокая стоимость:**
   * Больше времени на разработку
   * Сложнее поддерживать
   * Требуют больше знаний

2. **Отрыв от реальности:**
   * Тестируют изолированные компоненты
   * Не проверяют взаимодействие
   * Могут пропустить реальные проблемы

3. **Ограниченная эффективность:**
   * Не гарантируют правильность взаимодействия
   * Могут создавать ложное чувство безопасности
   * Требуют больше ресурсов

## Рекомендации по выбору типа тестов

1. **Начните с компонентных тестов:**
   * Для новых функций
   * При доработке существующего кода
   * Для критически важных сценариев

2. **Добавляйте unit-тесты:**
   * Для сложной бизнес-логики
   * При необходимости изоляции компонентов
   * Для оптимизации производительности

3. **Комбинируйте подходы:**
   * Используйте разные типы тестов
   * Адаптируйте под конкретные задачи
   * Учитывайте специфику проекта

[Источник](https://habr.com/ru/companies/axenix/articles/724318/)